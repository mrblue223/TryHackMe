# üõ°Ô∏è Detailed Penetration Test Report: 10.201.10.161

## 1. Executive Summary

A penetration test was conducted on the target host **10.201.10.161**. Initial access was achieved by brute-forcing a weak SSH password for the user **jan**. Lateral movement was then executed by cracking the passphrase for an encrypted private key belonging to user **kay**. Final privilege escalation is likely possible using a strong password found in the notes. Key vulnerabilities include weak credentials, exposed development documentation, and the use of an outdated Apache Struts version.

---

## 2. Initial Reconnaissance and Enumeration

### 2.1. Nmap Scan

The initial Nmap scan revealed two open TCP ports on the target host **10.201.10.161**:

* **22/tcp (ssh):** Running **OpenSSH 8.2p1 Ubuntu**.
* **80/tcp (http):** Running **Apache httpd 2.4.41 ((Ubuntu))**.

**Command Used:**
nmap -sC -sV 10.201.10.161

### 2.2. Web Enumeration

Web content enumeration revealed a hidden directory named **"development"**. Inside, the file **`dev.txt`** contained crucial system information and developer notes:

* **Apache Struts Version:** The server is hosting an application using **Apache Struts 2.5.12**. This specific version is associated with multiple public vulnerabilities, including potential Remote Code Execution (RCE).
* **Service Configuration:** **SMB has been configured** on the server.
* **User Information:** Notes reference users **K** (Kay) and **J** (Jan).

### 2.3. SMB Enumeration (`enum4linux`)

Enumeration of the SMB service (ports 139 and 445) provided system details, user accounts, and password policy information:

* **Workgroup/Domain Name:** **WORKGROUP**.
* **Server Version:** **Samba Server 4.15.13-Ubuntu**.
* **Local Users Enumerated:** **kay**, **jan**, and **ubuntu**.
* **Password Policy:**
    * **Minimum Password Length:** **5**.
    * **Password Complexity:** **Disabled**.

A development note was also found referencing user **J**'s weak password being easily cracked, indicating non-compliance with the current password policy.

**Command Used:**
enum4linux -a 10.201.10.161

---

## 3. Initial Access (User **Jan**)

### 3.1. Brute-Force Attack

Given the explicit note about a weak password for user **J** (Jan) and the available SSH service, a dictionary attack was performed using **Hydra**.

* **Target User:** **jan**.
* **Tool:** Hydra.
* **Wordlist:** `/usr/share/wordlists/rockyou.txt`.
* **Cracked Password:** **armando**.

**Command Used:**
hydra -l jan -P /usr/share/wordlists/rockyou.txt 10.201.10.161 ssh

Initial access was successfully gained via SSH as user `jan`.

---

## 4. Lateral Movement (User **Kay**)

### 4.1. Encrypted Key Recovery

Post-exploitation enumeration revealed an encrypted SSH private key (`id_rsa`) stored in `/home/kay`. The hash was extracted and targeted for cracking.

### 4.2. Cracking the Passphrase

The encrypted key's passphrase was cracked using **John the Ripper** and the `rockyou.txt` wordlist.

* **Tool:** John the Ripper.
* **Cracked Passphrase:** **beeswax**.

**Command Used:**
john --wordlist=/usr/share/wordlists/rockyou.txt kay_hash.txt

Lateral movement was successful, granting SSH access as user `kay` using the cracked key and passphrase.

---

## 5. Privilege Escalation

### 5.1. High-Value Credential Discovery

Further review of the developer notes identified a very strong password, which is a key indicator for potential root access or an administrative service account.

* **Credential Found:** `heresareallystrongpasswordthatfollowsthepasswordpolicy$$`.

This password should be tested for use with `sudo -i` or `su root` to achieve full compromise (root privileges) of the target system.
